<html>
  <body>
    <script>

     window.fbAsyncInit = function() {
       FB.init({
         appId      : '659375807506663',
         xfbml      : true,
         version    : 'v2.2'
       });
     };

     (function(d, s, id){
       var js, fjs = d.getElementsByTagName(s)[0];
       if (d.getElementById(id)) {return;}
       js = d.createElement(s); js.id = id;
       js.src = "//connect.facebook.net/en_US/sdk.js";
       fjs.parentNode.insertBefore(js, fjs);
     }(document, 'script', 'facebook-jssdk'));

     var buttonPressed = function(){
       FB.login(function(response) {
         if (response.authResponse) {
           var access_token =   FB.getAuthResponse()['accessToken'];
           console.log('Access Token = '+ access_token);
           FB.api('/me', function(response) {
             console.log('Good to see you, ' + response.name + '.');
           });
           var body = 'Test post, (writing javascript to share pics on fb). If you are seeing this it means I havent managed to delete it yet';
       FB.api('/me/photos', 'post', { message: body, url: "http://soulflyer.co.uk/photos/medium/2014/09/04-Bute/DIW_8563.jpg" }, function(response){
         if (!response || response.error){
           alert('Error occured')
         } else{
           alert('Post ID: ' + response.id)

         }
       });

         } else {
           console.log('User cancelled login or did not fully authorize.');
         }
       }, {scope: 'publish_actions'});
     }

    </script>
    <button type=button onclick=Javascript:buttonPressed()>
      Press Me
    </button>
  </body>
</html>
